# Îagûara

> Jaguar, in the Tupi language.

> Beast that kills prey with a single blow.

**Îagûara** integrates several Docker containers, creating a development 
environment in moments. With preconfigured and easy-to-customize tools, a few 
lines of code for installation puts you one step away from a modern, 
easy-to-use environment.

This project is an ongoing study aiming to create a simple installation software
development environment.

Any information generated by this study is free of license as a form of donation
against intellectual property. Any software used to compose this study contains
your own license. Any code used to compose this study will be informed with its
own license, whenever necessary.


## Schema

![Îagûara Schema](https://docs.google.com/drawings/d/e/2PACX-1vRNZPYGNj4Xq4ZR29r9KhW2LChAEzkMK0cVSlKM9Yxj68rCv8sT4AYDCklG25wA-hCiIRQooAuICVCL/pub?w=1440&h=1080)


## Dependencies

- [Make](https://www.gnu.org/software/make/manual/html_node/index.html)
- [Docker](https://docs.docker.com/install/)


## Installation

Clone this repository and insert the code below into your `.bashrc` or `.zshrc`:

```shell
export IAGUARA_HOME="$HOME/.iaguara"
[ -s "$IAGUARA_HOME/iaguara.sh" ] && \. $IAGUARA_HOME/iaguara.sh
```

*Changes `IAGUARA_HOME` to the path chosen when cloning this repository.*

The `bin` folder is added in your `$PATH` variable exposing some commands
to your shell.


## First use

Build your own **Îagûara** images (`iaguara <app> build`):

```shell
iaguara dotfiles build

iaguara base build

iaguara vim build

NODE_VERSION=8 iaguara node build
```

*Some apps do not have a build task. Access the `Makefile` file of an
app to verify your tasks.*

Run the `base` image:

```shell
iaguara run
```

*The `base` app may be hidden when running the `iaguara <task>` command.*

Next to the `base` container are created the containers: `data`, `dotfiles` and
`dns`; and the network bridge named `iaguara`.
See [base Makefile](apps/base/Makefile).

Now, inside **Îagûara** `base` container, you can run another image:

```shell
RUN_COMMAND="vim <options> <files>" iaguara vim run
```

*Some apps have a file in the `bin` folder for easy access from anywhere:*

```shell
vim <options> <files>
```

We recommend you browse through the files in this project to see how
things happen.

See [Îagûara Oka](https://github.com/iaguara/oka) to view a preconfigured
`dotfiles` used by default in this project.


## Cheat Sheet

### Command structure

```shell
<ENV_ARGS> iaguara <app:-base> <task>
```

### Run commands inside images

```shell
RUN_COMMAND="ls -l" iaguara <app:-base> run
```

### Run named containers

```shell
CONTAINER_NAME="my-container" iaguara <app:-base> run
```

*All containers receives a suffix `.iaguara`.*

### List all **Îagûara** images & containers

```shell
iaguara ls
```
